const allComments =[
    {
        "image": "",
        "_id": "660667db15fd8daa33f9195d",
        "postRef": "65e6aeecc338aad88c00c663",
        "comment": "nalone pongene narmaada, surya son of krishna ",
        "commentBy": {
            "_id": "65c36019d93260e4627a6da0",
            "first_name": "kiran",
            "last_name": "bmk",
            "username": "kiranbmk",
            "picture": "https://res.cloudinary.com/dtozwuqag/image/upload/v1707817608/kiranbmk/profile_pictures/eukybaajpr85mvhat6p1.jpg",
            "gender": "male"
        },
        "like": [
            "65c36019d93260e4627a6da0"
        ],
        "dislike": [],
        "pinned": false,
        "children": [],
        "edited": true,
        "createdAt": "2024-03-29T07:03:55.797Z",
        "updatedAt": "2024-03-29T07:04:08.969Z",
        "__v": 1
    },
    {
        "_id": "6606684815fd8daa33f91966",
        "postRef": "65e6aeecc338aad88c00c663",
        "comment": "edit by me i am fan of surya",
        "image": null,
        "commentBy": {
            "_id": "65c3735e6d767fd2b5112f24",
            "first_name": "Anjitha",
            "last_name": "D",
            "username": "AnjithaD",
            "picture": "https://res.cloudinary.com/dmhcnhtng/image/upload/v1643044376/avatars/default_pic_jeaybr.png",
            "gender": "female"
        },
        "like": [],
        "dislike": [],
        "parentID": "660667db15fd8daa33f9195d",
        "pinned": false,
        "children": [],
        "edited": false,
        "createdAt": "2024-03-29T07:05:44.322Z",
        "updatedAt": "2024-03-29T09:27:08.650Z",
        "__v": 2
    },
    {
        "_id": "660668bb15fd8daa33f9196a",
        "postRef": "65e6aeecc338aad88c00c663",
        "comment": "yeah this was a nice movie",
        "image": null,
        "commentBy": {
            "_id": "65c3735e6d767fd2b5112f24",
            "first_name": "Anjitha",
            "last_name": "D",
            "username": "AnjithaD",
            "picture": "https://res.cloudinary.com/dmhcnhtng/image/upload/v1643044376/avatars/default_pic_jeaybr.png",
            "gender": "female"
        },
        "like": [],
        "dislike": [],
        "parentID": "660667db15fd8daa33f9195d",
        "pinned": false,
        "children": [],
        "edited": false,
        "createdAt": "2024-03-29T07:07:39.238Z",
        "updatedAt": "2024-03-29T07:07:39.238Z",
        "__v": 0
    },
    {
        "_id": "660668eb15fd8daa33f9196d",
        "postRef": "65e6aeecc338aad88c00c663",
        "comment": "i watched release",
        "image": null,
        "commentBy": {
            "_id": "65c36019d93260e4627a6da0",
            "first_name": "kiran",
            "last_name": "bmk",
            "username": "kiranbmk",
            "picture": "https://res.cloudinary.com/dtozwuqag/image/upload/v1707817608/kiranbmk/profile_pictures/eukybaajpr85mvhat6p1.jpg",
            "gender": "male"
        },
        "like": [],
        "dislike": [],
        "parentID": "660667db15fd8daa33f9195d",
        "pinned": false,
        "children": [],
        "edited": false,
        "createdAt": "2024-03-29T07:08:27.311Z",
        "updatedAt": "2024-03-29T07:08:27.311Z",
        "__v": 0
    },
    {
        "_id": "660696608f2e1a9dc44aa3c1",
        "postRef": "65e6aeecc338aad88c00c663",
        "comment": "kanguva coming",
        "image": null,
        "commentBy": {
            "_id": "65c36019d93260e4627a6da0",
            "first_name": "kiran",
            "last_name": "bmk",
            "username": "kiranbmk",
            "picture": "https://res.cloudinary.com/dtozwuqag/image/upload/v1707817608/kiranbmk/profile_pictures/eukybaajpr85mvhat6p1.jpg",
            "gender": "male"
        },
        "like": [],
        "dislike": [],
        "pinned": false,
        "children": [],
        "edited": false,
        "createdAt": "2024-03-29T10:22:24.393Z",
        "updatedAt": "2024-03-29T10:22:24.393Z",
        "__v": 0
    },
    {
        "_id": "660696798f2e1a9dc44aa3c4",
        "postRef": "65e6aeecc338aad88c00c663",
        "comment": "yeah me also excited",
        "image": null,
        "commentBy": {
            "_id": "65c36019d93260e4627a6da0",
            "first_name": "kiran",
            "last_name": "bmk",
            "username": "kiranbmk",
            "picture": "https://res.cloudinary.com/dtozwuqag/image/upload/v1707817608/kiranbmk/profile_pictures/eukybaajpr85mvhat6p1.jpg",
            "gender": "male"
        },
        "like": [],
        "dislike": [],
        "parentID": "660696608f2e1a9dc44aa3c1",
        "pinned": false,
        "children": [],
        "edited": false,
        "createdAt": "2024-03-29T10:22:49.437Z",
        "updatedAt": "2024-03-29T10:22:49.437Z",
        "__v": 0
    },
    {
        "_id": "6606adec8f2e1a9dc44aa3c9",
        "postRef": "65e6aeecc338aad88c00c663",
        "comment": "what me also ..............",
        "image": null,
        "commentBy": {
            "_id": "65c36019d93260e4627a6da0",
            "first_name": "kiran",
            "last_name": "bmk",
            "username": "kiranbmk",
            "picture": "https://res.cloudinary.com/dtozwuqag/image/upload/v1707817608/kiranbmk/profile_pictures/eukybaajpr85mvhat6p1.jpg",
            "gender": "male"
        },
        "like": [],
        "dislike": [],
        "parentID": "6606684815fd8daa33f91966",
        "pinned": false,
        "children": [],
        "edited": false,
        "createdAt": "2024-03-29T12:02:52.333Z",
        "updatedAt": "2024-03-29T12:02:52.333Z",
        "__v": 0
    }
]// -------------------------------
// scene 1 take 1
//  take1 success 
// let commentsParents = {}
// let rootComments =[]

// for(let i =0;i< allComments.length;i++){
// let comment =allComments[i]
//     commentsParents[comment._id] = comment

// }
// // commentsParents.map(commentsParent => console.log(commentsParent))
// // console.log(commentsParents)


// for(let i =0;i< allComments.length ;i++){
//   let comment = allComments[i]
//   if(comment.parentID){
//     let commentParent = commentsParents[comment.parentID]
//     commentParent.children =[...commentParent.children,comment]
//   }else{
//     rootComments =[...rootComments,comment]
//   }
// }

// console.log(rootComments[0].children[0])
// -----------------------------------



//  scene 2 take 2
// take2 
// ---------------------------------------------


const originalComments = allComments.reduce((accumulator, comment,index) => {
    if (comment.parentID) {
      allComments.forEach(user => {
        if (comment.parentID === user._id) {
          user.children.push(comment);
        }
      });
    //   console.log({allComments})
      console.log("parent",{accumulator})
    }else{
        accumulator.push(comment);
        // console.log({accumulator})
    }
    console.log('------',index)
    return accumulator;
  }, []);
  
//   console.log(originalComments[0].children);
